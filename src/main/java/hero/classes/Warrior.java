package hero.classes;

import hero.Hero;
import item.weapon.Knife;
import lombok.Getter;
import spec.HeroClass;

import java.util.List;

import static tools.Dice.randomInt;

/**
 * Класс, представляющий героя класса "Воин".
 * Наследует общие характеристики и поведение от класса {@link Hero}.
 */
@Getter
public class Warrior extends Hero {

    /**
     * Класс героя — воин.
     */
    private final HeroClass heroClass = HeroClass.WARRIOR;

    /**
     * Классовые характеристики
     */
    private static final Integer INTELLIGENCE = 1;
    private static final Integer STRENGTH = 4;
    private static final Integer DEXTERITY = 4;

    private static final Double CRIT_CHANCE = 0.1;

    /**
     * Шанс заблокировать весь урон.
     */
    public static final Double BLOCK_CHANCE = 0.4;

    /**
     * Создаёт нового воина с заданным именем и базовыми характеристиками.
     *
     * @param name Имя воина
     */
    public Warrior(String name) {
        super();

        setName(name);

        // Установка характеристик
        setIntelligence(INTELLIGENCE);
        setStrength(STRENGTH);
        setDexterity(DEXTERITY);


          //===============================//
         //      Особенности класса       //
        //===============================//
        //Воин уже в начале боя заряжен на удар
        setReloader(1D);
        //У воина повышенный шанс блокировать удар
        setBlockChance(BLOCK_CHANCE);

        getInventory().put(new Knife());

        getHealth().fillUp();
    }

    @Override
    public String getShieldAbsorbMessage() {
        int index = randomInt(WARRIOR_SHIELD_ABSORB_MESSAGES.size());
        return String.format(WARRIOR_SHIELD_ABSORB_MESSAGES.get(index), getName());
    }
    private static final List<String> WARRIOR_SHIELD_ABSORB_MESSAGES = List.of(
            "%s зарычал от восторга, когда магический щит поглотил весь удар!",
            "%s ухмыльнулся, видя, как атака рассыпалась о его магический барьер!",
            "%s расставил руки, чувствуя, как магия впитала весь урон!",
            "%s глухо рассмеялся: ‘Ха! Тебе придётся постараться сильнее!’",
            "%s почувствовал, как магический щит поглотил удар, не оставив ни царапины!",
            "%s сжал кулаки, ощущая силу барьера, не давшего врагу ни шанса!",
            "%s кивнул, наблюдая, как магический барьер рассеял атаку словно пыль!",
            "%s бросил врагу вызывающий взгляд: ‘Попробуй ещё раз, если осмелишься!’",
            "%s не дрогнул, когда щит вспыхнул и растворил атаку в воздухе!",
            "%s хлопнул себя по груди и рявкнул: ‘Можешь бить сильнее?’"
    );

    @Override
    public String getPainMessage() {
        int index = randomInt(WARRIOR_PAIN_MESSAGES.size());
        return String.format(WARRIOR_PAIN_MESSAGES.get(index), getName());
    }
    private static final List<String> WARRIOR_PAIN_MESSAGES = List.of(
            "%s стиснул зубы, но не дал боли одолеть себя!",
            "%s плюнул кровь и зарычал от ярости!",
            "%s пошатнулся, но тут же вновь встал в стойку!",
            "%s вытер кровь с губы и злобно улыбнулся!",
            "%s ощутил боль, но лишь раззадорился ещё сильнее!"
    );

    @Override
    public String getBlockedMessage() {
        int index = randomInt(WARRIOR_BLOCKED_MESSAGES.size());
        return String.format(WARRIOR_BLOCKED_MESSAGES.get(index), getName());
    }
    private static final List<String> WARRIOR_BLOCKED_MESSAGES = List.of(
            "%s парировал удар, даже не моргнув!",
            "%s поставил щит и сдержал атаку, как скала!",
            "%s засмеялся, когда оружие врага бессильно скользнуло по его доспехам!",
            "%s ударил вражеское лезвие своим, отбивая атаку!",
            "%s спокойно выдержал удар, словно это было просто дуновение ветра!"
    );

    /**
     * Получает случайное сообщение при атаке.
     *
     * @return Строка с текстом атаки, включающая имя персонажа.
     */
    public String getAttackMessage() {
        int index = randomInt(WARRIOR_ATTACK_MESSAGES.size());
        return String.format(WARRIOR_ATTACK_MESSAGES.get(index), getName());
    }
    private static final List<String> WARRIOR_ATTACK_MESSAGES = List.of(
            "%s врезал так, что воздух взвыл от боли!",
            "%s нанёс удар такой силы, коим можно было сокрушить горы!",
            "%s взревел как бешеный бык, и жахнул врага!",
            "%s смачно всёк, что аж искры посыпались!",
            "%s удар врагу пришёлся, словно топор в пень!",
            "БА-БАХ! И духи предков зааплодировали в Вальхалле!",
            "%s взмахнул оружием... и-и-И-И!!!Ё, ХЭЭС! Аж трава в стороны легла!",
            "%s вложил в удар всю ненависть. Боль настигнет врага!",
            "Вальхаллеа ждёт! Проревел %s",
            "Будто молния, %s шарахнул с небес!",
            "%s сделал обманный манёвр, да так въехал, что будь противник трезвым – он бы опьянел!",
            "%s двинул так, что зубы в пляс пошли!",

            "%s дал такого леща своим клинком, что даже гром в небе присел от страха!",
            "%s не стал мямлить, а взял да и приложил с такой силой, что у врага аж пятки зачесались!",
            "%s с грохотом снёс быкающим ударом всё, что стояло на пути!",
            "%s вложил всю злость в один-единственный мах, и не зря – удар получился сокрушающим!",
            "%s подскочил, замахнулся и с громогласным рёвом ударил, будто сам бог войны сошёл на землю!",
            "%s так рубанул, что враг успел только перекреститься!",
            "%s сделал ложный выпад, да так ловко, что враг уже прощался с жизнью!",
            "%s ухватил оружие поудобнее и шарахнул, как будто вырезает себе путь в легенды!",
            "%s не стал долго думать и вмазал так, что аж земля содрогнулась!",
            "%s шагнул, подобно буре, и снёс всё, что осмелилось стоять на его пути!",
            "%s занёс оружие над головой и с воплем всадил удар, будто крушит цепи самой судьбы!",
            "%s сделал такой сокрушающий выпад, что даже камни застонали от страха!",
            "%s вдарил с такой звериной яростью, что воздух сам отошёл в сторону!",
            "%s рубанул, будто дровосек на лесоповале, только вот вместо деревьев — кости врагов!",
            "%s поднял оружие, завёл руку за спину и смачно приложился, словно выбивая пыль из ковра!",
            "%s с кровавой ухмылкой сделал шаг вперёд и всадил свою сталь с такой силой, что враг осознал все ошибки жизни!",
            "%s крутанул оружие, словно ветер в бурю, и нанёс сокрушительный удар!",
            "%s не стал любезничать – замахнулся и вдарил, будто он кузнец, а враг – железо на наковальне!"
    );

    /**
     * Получает случайное сообщение при промахе.
     *
     * @return Строка с текстом промаха, включающая имя персонажа.
     */
    @Override
    public String getMissedMessage() {
        int index = randomInt(WARRIOR_MISSED_MESSAGES.size());
        return String.format(WARRIOR_MISSED_MESSAGES.get(index), getName());
    }
    private static final List<String> WARRIOR_MISSED_MESSAGES = List.of(
            "%s поклялся богам, что размажет врага… но пока он смог размазать лишь воздух!",

            "%s Проклятые духи леса, да чтоб вас комарье сгрызло!",
            "%s размахнулся, но враг оказался хитрее – лишь ветер всколыхнулся!",
            "%s лупит топором, но вместо мяса рубит воздух!",
            "%s взревел, размахнулся… и пропахал землю, а не врага!",
            "%s плюётся, орёт, но топор его предательски скользит мимо цели!",
            "%s целился в череп, а попал... в собственную бороду!",
            "%s замахнулся так, что деревья закачались – но врага даже не задел!",
            "%s смачно чертыхнулся – кто-то заколдовал его руки?!",
            "%s попытался дать с ноги, но едва не вляпался в старый костёр!",
            "%s со всей силы ударил, но, видимо, судьба – подлая сука!",
            "%s орёт, машет руками – похоже, пытается напугать врага мимикой!",
            "%s чуть не отрубил себе ногу – да кто так вертится во время боя?!",
            "%s попал... в тень противника! Ну хоть что-то.",
            "%s хрипло дышит – не из-за усталости, а от злобы! Этот гад уклонился!",
            "%s промахнулся, и теперь его топор застрял в земле! Время для мата!",
            "%s от досады сплюнул – его ярость теперь опаснее, чем удар!",
            "%s издал дикий рык – ну теперь-то точно попадёт!",
            "%s попытался зарядить по печени, но ударил себя в колено!",
            "%s прицелился, нанёс удар, но враг – юркая блоха, ушёл!",
            "%s злобно рычит – в следующий раз этот гад не уйдёт!",
            "%s взревел, но вместо удара его кулак встретил лишь воздух!",
            "%s подпрыгнул, чтобы ударить сверху – и вместо этого сел в лужу!",
            "%s попытался двинуть щитом, но враг оказался ловчее!",
            "%s чуть не снес забор позади врага – и где он, этот проклятый?!"
    );

    /**
     * Получает случайное сообщение при перезарядке.
     *
     * @return Строка с текстом перезарядки, включающая имя персонажа.
     */
    @Override
    public String getReloadMessage() {
        int index = randomInt(WARRIOR_RELOAD_MESSAGES.size());
        return String.format(WARRIOR_RELOAD_MESSAGES.get(index), getName());
    }
    private static final List<String> WARRIOR_RELOAD_MESSAGES = List.of(
            "%s хрустит кулаками",
            "%s готовится к яростному броску!",
            "%s поплевав на ладони перехватывает оружие поудобнее.",
            "%s пригнулся к земле",
            "\"Хмммм\" злобно хмыкнул %s",
            "%s вздувает вены от напряжения!",
            "%s щурится, выбирая куда бить!",

            "%s рычит, бьёт кулаком в ладонь – сейчас что-то сломается!",
            "%s размашисто крутит топор, высекая искры из земли!",
            "%s стучит кулаком по груди, взывая к духам предков!",
            "%s чертыхнулся, поправил хват – следующий удар будет точным!",
            "%s потряс оружием над головой, выкрикивая угрозы врагу!",
            "%s размахнулся так, что даже воздух завопил от страха!",
            "%s закусил губу, измеряя расстояние – скоро время ударять!",
            "%s глубоко вдохнул, набирая силу – варвару некуда торопиться!",
            "%s проводит пальцем по лезвию – отточено, готово к битве!",
            "%s расставил ноги шире – теперь враг не уйдёт!",
            "%s бросает взгляд, полный обещания смерти – скоро бой!",
            "%s поигрывает мускулами, устрашающе ухмыляясь.",
            "%s покачал головой – не сейчас, но скоро, очень скоро…"
    );

}
